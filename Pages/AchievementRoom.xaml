<Page x:Class="TempusVelit.Pages.AchievementRoom"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="clr-namespace:TempusVelit.Pages"
      xmlns:assets="clr-namespace:TempusVelit.Assets"
      mc:Ignorable="d"
      d:DesignHeight="1024"
      d:DesignWidth="1440"
      Background="White">
    <Page.Resources>
        <assets:PointCountToWidthConverter x:Key="PointCountToWidthConverter" />
        <assets:PointCountToRattingConverter x:Key="PointCountToRattingConverter" />
        <assets:GreyFormatConverter x:Key="GreyFormatConverter" />
        <assets:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </Page.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Border Grid.Column="0"
                Margin="50, 40, 35, 0"
                CornerRadius="16, 16, 0, 0"
                BorderThickness="3, 3, 3, 0"
                BorderBrush="{StaticResource LightBaseColor}"
                Background="{StaticResource WhiteBaseColor}">
            <ScrollViewer VerticalScrollBarVisibility="Hidden"
                          Padding="-1">
                <Grid SnapsToDevicePixels="True">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <Border Grid.Row="0"
                            CornerRadius="16"
                            BorderThickness="0"
                            VerticalAlignment="Top"
                            Background="{StaticResource LightBaseColor}"
                            Padding="30, 15, 30, 20">
                        <StackPanel Orientation="Vertical">
                            <TextBlock Text="Уровень аккаунта"
                                       FontSize="26"
                                       FontFamily="{StaticResource YsabeauInfant-Medium}"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Foreground="{StaticResource DarkBaseColor}"
                                       Margin="0,0,0,20" />
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Row="0"
                                           Grid.Column="0"
                                           Text="{Binding LevelPoints, StringFormat='{}{0} из 100'}"
                                           FontSize="16"
                                           FontFamily="{StaticResource YsabeauInfant-Bold}"
                                           HorizontalAlignment="Left"
                                           VerticalAlignment="Bottom"
                                           Foreground="{StaticResource DarkBaseColor}" />
                                <Grid Grid.Row="1"
                                      Grid.Column="0"
                                      VerticalAlignment="Top"
                                      HorizontalAlignment="Stretch"
                                      Margin="0, 5, 15, 0">
                                    <Border x:Name="baseBorder"
                                            CornerRadius="3"
                                            Background="{StaticResource WhiteBaseColor}"
                                            Height="7"
                                            HorizontalAlignment="Stretch" />
                                    <Border CornerRadius="3"
                                            Background="{StaticResource NormalBaseColor}"
                                            Height="7"
                                            HorizontalAlignment="Left">
                                        <Border.Width>
                                            <MultiBinding Converter="{StaticResource PointCountToWidthConverter}">
                                                <Binding Path="." />
                                                <Binding ElementName="baseBorder"
                                                         Path="ActualWidth" />
                                            </MultiBinding>
                                        </Border.Width>
                                    </Border>
                                </Grid>
                                <TextBlock Grid.Row="0"
                                           Grid.RowSpan="2"
                                           Grid.Column="1"
                                           Text="{Binding Level}"
                                           FontSize="40"
                                           Margin="0, -10, 0, 0"
                                           FontFamily="{StaticResource YsabeauInfant-Bold}"
                                           HorizontalAlignment="Left"
                                           VerticalAlignment="Top"
                                           Foreground="{StaticResource DarkBaseColor}" />
                            </Grid>

                            <Grid Margin="0,10,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Path Grid.Column="0"
                                      Data="M33.6665 18.0004C33.6665 9.34801 26.6528 2.33355 18.0005 2.33337C9.34803 2.33337 2.3335 9.34791 2.3335 18.0004C2.33367 26.6527 9.34814 33.6664 18.0005 33.6664C26.6527 33.6662 33.6663 26.6526 33.6665 18.0004ZM18.0005 15.3334C18.5526 15.3336 19.0005 15.7812 19.0005 16.3334V23.6664H21.3335L21.436 23.6722C21.94 23.7236 22.3333 24.1489 22.3335 24.6664C22.3335 25.184 21.9401 25.6102 21.436 25.6615L21.3335 25.6664H14.6665C14.1144 25.6662 13.6665 25.2186 13.6665 24.6664C13.6667 24.1144 14.1145 23.6666 14.6665 23.6664H16.5229L13.7388 16.7045C13.6156 16.3965 13.6525 16.0475 13.8384 15.7728C14.0243 15.4981 14.3348 15.3335 14.6665 15.3334H18.0005ZM17.0005 19.475V17.3334H16.144L17.0005 19.475ZM18.0171 8.66638L18.1196 8.67224C18.6238 8.72337 19.0169 9.14871 19.0171 9.66638C19.0171 10.1842 18.624 10.6104 18.1196 10.6615L18.0171 10.6664H18.0005C17.4482 10.6664 17.0005 10.2187 17.0005 9.66638C17.0007 9.11425 17.4483 8.66638 18.0005 8.66638H18.0171ZM35.6665 18.0004C35.6663 27.7571 27.7573 35.6662 18.0005 35.6664C8.24357 35.6664 0.333672 27.7572 0.333496 18.0004C0.333496 8.24333 8.24346 0.333374 18.0005 0.333374C27.7574 0.33355 35.6665 8.24344 35.6665 18.0004Z"
                                      Fill="{StaticResource NormalBaseColor}"
                                      VerticalAlignment="Center" />
                                <TextBlock Grid.Column="1"
                                           Margin="25, 0"
                                           Text="Проходите больше учебных тем, чтобы получить очки опыта"
                                           TextWrapping="Wrap"
                                           Width="300"
                                           FontSize="18"
                                           FontFamily="{StaticResource YsabeauInfant-SemiBold}"
                                           HorizontalAlignment="Left"
                                           VerticalAlignment="Center"
                                           Foreground="{StaticResource NormalBaseColor}" />
                            </Grid>
                        </StackPanel>
                    </Border>
                    <ListView x:Name="lvAch"
                              Grid.Row="1"
                              BorderThickness="0"
                              Background="Transparent"
                              ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                              ScrollViewer.VerticalScrollBarVisibility="Disabled"
                              ScrollViewer.CanContentScroll="False"
                              PreviewMouseWheel="ListViewPreviewMouseWheel">
                        <ListView.ItemContainerStyle>
                            <Style TargetType="ListViewItem">
                                <Setter Property="HorizontalContentAlignment"
                                        Value="Stretch" />
                                <Setter Property="Margin"
                                        Value="30, 20" />
                                <Setter Property="Template"
                                        Value="{StaticResource ListViewItemStyle}">
                                </Setter>
                            </Style>
                        </ListView.ItemContainerStyle>
                        <ListView.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel Orientation="Horizontal"
                                           HorizontalAlignment="Center" />
                            </ItemsPanelTemplate>
                        </ListView.ItemsPanel>
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Margin="0,15,0,0">
                                    <TextBlock Text="{Binding AchievementName}"
                                               TextWrapping="Wrap"
                                               Height="50"
                                               MaxWidth="190"
                                               LineHeight="10"
                                               TextAlignment="Center"
                                               FontSize="20"
                                               FontFamily="{StaticResource YsabeauInfant-Medium}"
                                               HorizontalAlignment="Center"
                                               Foreground="{StaticResource DarkBaseColor}">
                                    </TextBlock>
                                    <Grid Margin="0, 20, 0, 15">
                                        <Image Source="{Binding Image, Converter={StaticResource GreyFormatConverter}}"
                                               Stretch="Uniform"
                                               Height="150"
                                               VerticalAlignment="Stretch">
                                        </Image>
                                        <Image Source="{Binding Image}"
                                               Stretch="Uniform"
                                               Visibility="{Binding ., Converter={StaticResource BooleanToVisibilityConverter}}"
                                               Height="150"
                                               VerticalAlignment="Stretch" />
                                    </Grid>
                                    <TextBlock Text="{Binding Description}"
                                               TextWrapping="Wrap"
                                               TextAlignment="Center"
                                               Width="170"
                                               FontSize="16"
                                               FontFamily="{StaticResource Jost-ExtraLight}"
                                               HorizontalAlignment="Center"
                                               Foreground="{StaticResource DarkBaseColor}" />
                                </StackPanel>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </Grid>
            </ScrollViewer>
        </Border>
        <Border Grid.Column="1"
                Margin="50, 0, 35, 40"
                CornerRadius="0, 0, 16, 16"
                BorderThickness="0"
                Background="{StaticResource LightBaseColor}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <ScrollViewer Grid.Row="0"
                              Margin="20, 20, 20, 0"
                              VerticalScrollBarVisibility="Hidden">
                    <StackPanel>
                        <TextBlock Text="Рейтинг"
                                   Foreground="{StaticResource BlackBaseColor}"
                                   FontSize="36"
                                   FontFamily="{StaticResource YsabeauInfant-Medium}"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Margin="0, 0, 0, 20" />
                        <ListView x:Name="lvFirstUsers"
                                  BorderThickness="0"
                                  Background="Transparent"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                  ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                  ScrollViewer.CanContentScroll="False"
                                  PreviewMouseWheel="ListViewPreviewMouseWheel">
                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="HorizontalContentAlignment"
                                            Value="Stretch" />
                                    <Setter Property="Margin"
                                            Value="0, 0, 0, 20" />
                                    <Setter Property="Template"
                                            Value="{StaticResource ListViewItemStyle}">
                                    </Setter>
                                </Style>
                            </ListView.ItemContainerStyle>
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid VerticalAlignment="Top">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid Grid.Column="0"
                                              Margin="0, 0, 20, 0">
                                            <Ellipse Height="40"
                                                     Width="40"
                                                     Fill="{StaticResource NormalBaseColor}" />
                                            <TextBlock Grid.Column="0"
                                                       Grid.Row="0"
                                                       Text="{Binding OrderNumber}"
                                                       Foreground="{StaticResource WhiteBaseColor}"
                                                       FontSize="30"
                                                       FontFamily="{StaticResource YsabeauInfant-Black}"
                                                       VerticalAlignment="Center"
                                                       HorizontalAlignment="Center" />
                                        </Grid>
                                        <Border Grid.Column="1"
                                                CornerRadius="16"
                                                BorderThickness="0"
                                                Background="{StaticResource WhiteBaseColor}"
                                                VerticalAlignment="Top">
                                            <Grid Margin="20">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                </Grid.RowDefinitions>
                                                <TextBlock Grid.Column="0"
                                                           Grid.Row="0"
                                                           Text="{Binding .}"
                                                           TextTrimming="CharacterEllipsis"
                                                           Foreground="{StaticResource BlackBaseColor}"
                                                           FontSize="26"
                                                           FontFamily="{StaticResource YsabeauInfant-Medium}"
                                                           VerticalAlignment="Center" />
                                                <TextBlock Grid.Column="0"
                                                           Grid.Row="1"
                                                           Text="{Binding PointCountString}"
                                                           FontSize="20"
                                                           FontFamily="{StaticResource Jost-ExtraLight}"
                                                           VerticalAlignment="Center" />
                                                <Border Grid.Column="1"
                                                        Grid.Row="0"
                                                        Grid.RowSpan="2"
                                                        HorizontalAlignment="Right"
                                                        Height="100"
                                                        Width="100"
                                                        CornerRadius="60"
                                                        BorderBrush="{StaticResource LightBaseColor}"
                                                        BorderThickness="5">
                                                    <Border.Background>
                                                        <ImageBrush ImageSource="{Binding Icon}"
                                                                    Stretch="UniformToFill" />
                                                    </Border.Background>
                                                </Border>
                                            </Grid>
                                        </Border>
                                    </Grid>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                        <ListView x:Name="lvLastUsers"
                                  BorderThickness="0"
                                  Background="Transparent"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                  ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                  ScrollViewer.CanContentScroll="False"
                                  PreviewMouseWheel="ListViewPreviewMouseWheel">
                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="HorizontalContentAlignment"
                                            Value="Stretch" />
                                    <Setter Property="Margin"
                                            Value="0, 0, 0, 20" />
                                    <Setter Property="Template"
                                            Value="{StaticResource ListViewItemStyle}">
                                    </Setter>
                                </Style>
                            </ListView.ItemContainerStyle>
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid VerticalAlignment="Top">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid Grid.Column="0"
                                              Margin="0, 0, 20, 0">
                                            <Ellipse Height="35"
                                                     Width="35"
                                                     Fill="{StaticResource DarkBaseColor}" />
                                            <TextBlock Grid.Column="0"
                                                       Grid.Row="0"
                                                       Text="{Binding OrderNumber}"
                                                       Foreground="{StaticResource WhiteBaseColor}"
                                                       FontSize="26"
                                                       FontFamily="{StaticResource YsabeauInfant-Black}"
                                                       VerticalAlignment="Center"
                                                       HorizontalAlignment="Center" />
                                        </Grid>
                                        <Border Grid.Column="1"
                                                CornerRadius="16"
                                                BorderThickness="0"
                                                Background="{StaticResource WhiteBaseColor}"
                                                VerticalAlignment="Top">
                                            <Grid Margin="20">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0"
                                                           Text="{Binding .}"
                                                           Foreground="{StaticResource BlackBaseColor}"
                                                           FontSize="24"
                                                           FontFamily="{StaticResource YsabeauInfant-Medium}"
                                                           VerticalAlignment="Center" />
                                                <TextBlock Grid.Column="1"
                                                           Text="{Binding PointCountString}"
                                                           FontSize="16"
                                                           FontFamily="{StaticResource Jost-ExtraLight}"
                                                           VerticalAlignment="Center" />
                                            </Grid>
                                        </Border>

                                    </Grid>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </StackPanel>
                </ScrollViewer>
                <Border x:Name="userPanel"
                        Grid.Row="1"
                        Height="140"
                        Margin="3"
                        CornerRadius="13"
                        BorderThickness="0"
                        Background="{StaticResource WhiteBaseColor}">
                    <Grid Margin="20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0"
                                HorizontalAlignment="Right"
                                Height="100"
                                Width="100"
                                CornerRadius="60"
                                BorderBrush="{StaticResource LightBaseColor}"
                                BorderThickness="5">
                            <Border.Background>
                                <ImageBrush ImageSource="{Binding Icon}"
                                            Stretch="UniformToFill" />
                            </Border.Background>
                        </Border>

                        <StackPanel Grid.Column="1"
                                    Margin="20, 0, 0, 0"
                                    VerticalAlignment="Center">
                            <TextBlock Text="{Binding .}"
                                       Foreground="{StaticResource BlackBaseColor}"
                                       FontSize="26"
                                       FontFamily="{StaticResource YsabeauInfant-Medium}"
                                       VerticalAlignment="Center" />
                            <TextBlock Text="{Binding PointCountString}"
                                       FontSize="20"
                                       FontFamily="{StaticResource Jost-ExtraLight}"
                                       VerticalAlignment="Center" />
                        </StackPanel>

                        <Grid Grid.Column="2">
                            <Ellipse Height="50"
                                     Width="50"
                                     Fill="{StaticResource NormalBaseColor}" />
                            <TextBlock Text="{Binding ., Converter={StaticResource PointCountToRattingConverter}}"
                                       Foreground="{StaticResource WhiteBaseColor}"
                                       FontSize="30"
                                       FontFamily="{StaticResource YsabeauInfant-Black}"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center" />
                        </Grid>
                    </Grid>
                </Border>
            </Grid>
        </Border>
    </Grid>
</Page>
